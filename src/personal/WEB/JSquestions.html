<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>pan-book-admin</title>
    </head>
    <body>
    </body>
</html>

<script>
    //实现一个bind

    Function.prototype._bind = function(){
        var self = this   //原函数
        var context = [].shift.call(arguments)  //this上下文
        var args = [].slice.call(arguments)  //参数
        return function(){
            self.apply(context, args.concat([].slice.call(arguments)))
        }
    }

    Function.prototype.myBind = function() {
        var self = this
        var context = [].shift.call(arguments)
        var args = [].slice.call(arguments)
        return function(){
            self.apply(context, args.concat([].clice.call(arguments)))
        }
    }
    // function func(x){
    //     console.log(x, this.y)
    // }

    Function.prototype.myBind1 = function(){
        var self = this
        var context = [].shift.call(arguments)
        var args = [].slice.call(arguments)
        return function(){
            self.apply(context,args.concat([].slice.call(arguments)) )
        }
    }
   
    // func._bind({y: 'foo'})() //undefined "foo"
    // func._bind()() //undefined undefined
    // func._bind({y: 'bar'}, 'foo')() //"foo" "bar"




    //实现一个深拷贝

    function deepClone(obj) {
        if(['undefined', 'funtion'].includes(typeof obj)){
            return obj
        }else{
            let result = Object.prototype.toString.call(obj) === "[object Object]" ? {} : []
            for(let key in obj){
                if(Object.prototype.toString.call(obj[key]) === "[object Object]" || Array.isArray(obj[key])){
                    result[key] = deepClone(obj[key])
                }else{
                    result[key] = obj[key]
                }
            }
            return result
        }
    }
    let testobj = {
        a: 111,
        b: [123, 234],
        c: {d: 0, e:1}
    }

    let newobj = deepClone(testobj)
    newobj.c.d = 1;
    // console.log('testobj', testobj);
    // console.log('newobj', newobj);


    //sum(1)(2)(3)(4)(n)

    // function sum(a){
    //     let result = a;
    //     const add = function (b) {
    //         if (b) {
    //             result+=b;
    //             return add;
    //         }
    //         return result
    //     }
    //     add.toString = function () {
    //         return result;
    //     }
    //     return add;
    // }
    // console.log(sum(1)(2)(3));



    //sum(1)(2)(3)(4)(n)()

    // function sum(a){
    //     let res = a 
    //     return function add(b){
    //         if(b){
    //             res +=b 
    //             return add
    //         }else{
    //             return res
    //         }
    //     }
    // }

    // console.log(sum(1)(2)(3)());


    // 575 582 577

    // function fi(n){
    //     if(n === 0 || n ===1){
    //         return n
    //     }else{
    //         return fi(n-1)+fi(n-2)
    //     }
    // }

    // console.log(fi(2)) //1
    // console.log(fi(3)) //2

    function change(arr) {
        let s = 0;
        let newarr = []
        for((i=arr.length-1);i>-1;i--){
            newarr[s]=arr[i]
            s++
        }
    } 

    function bubbleSort(arr) {
        var i = arr.length, j;
        var temp;
        while (i > 0) {
            for (j = 0; j < i - 1; j++) {
                if (arr[j] > arr[j + 1]) {
                    tempExchangVal = arr[j];
                    arr[j] = arr[j + 1];
                    arr[j + 1] = temp;
                }
            }
            i--;
        }
        return arr;
    }

    var tempArr=[8,94,15,88,55,76,21,39];
    function fastsort(arr){
        if(arr.length<2){
            return arr;
        }
        var left=[];
        var right=[];
        var baseIndex=Math.floor(arr.length/2);
        var pivot=arr.splice(baseIndex,1)[0];
        for(i=0;i<arr.length;i++){
            if(arr[i]<pivot){
                left.push(arr[i]);
            }else{
                right.push(arr[i])
            }
        }
        return fastsort(left).concat([pivot],fastsort(right));
    }

    let version1 = '2.1.3.4'
    let version2 = '2.1.3.1'
    function sort(v1, v2) {
        let newV1 = v1.split('.').join('')
        let newV2 = v2.split('.').join('')
        return newV1>newV2
    }
    console.log(sort(version1, version2));

    let tree = {
        id: 0,
        left: {
            id: 1,
            left: {
                id: 3,
                left: {
                    id: 7,
                },
                right: {
                    id: 8,
                }
            },
            right: {
                id: 4,
                left: {
                    id: 8,
                },
                right: {
                    id: 10,
                }
            }
        },
        right: {
            id: 2,
            left: {
                id: 5,
                left: {
                    id: 11,
                },
                right: {
                    id: 12,
                }
            },
            right: {
                id: 6,
                left: {
                    id: 13,
                },
                right: {
                    id: 14,
                }
            }
        },

    }
    function deepClone(tree) {
        let newTree = {}
        if(tree.left){
            newTree.left = deepClone(tree.left)
        }
        if(tree.right){
            newTree.right = deepClone(tree.right)
        }
    }
    

    








































</script>